diff --git a/app/build.gradle b/app/build.gradle
index a0ad61917..bfd3b3a02 100644
--- a/app/build.gradle
+++ b/app/build.gradle
@@ -248,11 +248,13 @@ android.applicationVariants.all { variant ->
         // same version code. Therefore we need to have different version codes for our ARM and x86
         // builds.
 
+        def DateVersionCode = Integer.parseInt(new Date().format("yyMMddHHmm"))
+        project.ext.versionCodes = ['armeabi-v7a': 1, 'arm64-v8a': 2, 'x86': 3, 'x86_64': 4]
         variant.outputs.each { output ->
             def abi = output.getFilter(OutputFile.ABI)
             // We use the same version code generator, that we inherited from Fennec, across all channels - even on
             // channels that never shipped a Fennec build.
-            def versionCodeOverride = Config.generateFennecVersionCode(abi)
+            def versionCodeOverride = project.ext.versionCodes.get(output.getFilter(com.android.build.OutputFile.ABI), 0) + DateVersionCode
 
             println("versionCode for $abi = $versionCodeOverride")
 
diff --git a/app/src/main/java/org/mozilla/fenix/browser/BaseBrowserFragment.kt b/app/src/main/java/org/mozilla/fenix/browser/BaseBrowserFragment.kt
index 6a4bcc9ff..5f3de347c 100644
--- a/app/src/main/java/org/mozilla/fenix/browser/BaseBrowserFragment.kt
+++ b/app/src/main/java/org/mozilla/fenix/browser/BaseBrowserFragment.kt
@@ -538,7 +538,7 @@ abstract class BaseBrowserFragment : Fragment(), UserInteractionHandler, Activit
 
         promptsFeature.set(
             feature = PromptFeature(
-                fragment = this,
+                activity = activity,
                 store = store,
                 customTabId = customTabSessionId,
                 fragmentManager = parentFragmentManager,
